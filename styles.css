/* ——— Zoom & Parallax ——— */
#zoom-wrapper {
  width: 100%; height: 100%;
  overflow: hidden;
  transform-origin: center center;
  transition: transform 0.2s ease;
  touch-action: none;
}
#parallax-wrapper {
  width: 100%; height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.1s ease-out;
  will-change: transform;
}

/* ——— Floating Messages & Images & Decorations ——— */
#message-container, #image-container, #decorations-container {
  position: absolute; top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
}
.message {
  position: absolute;
  font-size: 1.5rem;
  color: #e6ccff;
  animation: floatAround 5s ease-in-out forwards;
  text-shadow: 0 0 6px rgba(255,255,255,0.3);
}
.floating-image {
  position: absolute;
  opacity: 0.5;
  width: 180px; height: 180px;
  object-fit: cover; border-radius: 12px;
  animation: floatImage 8s ease-in-out forwards;
}
.floating-deco {
  position: absolute;
  animation: floatUp 4s ease-in forwards;
  opacity: 0.9; user-select: none;
}

/* ——— Hidden Surprise Image ——— */
#hidden-image {
  position: absolute; bottom: 20px; right: 20px;
  width: 150px; opacity: 0;
  transition: opacity 1s ease;
  z-index: 999;
}

/* ——— Buttons ——— */
#button-container {
  display: flex; gap: 20px;
  position: relative; z-index: 300;
  flex-wrap: wrap;
  opacity: 0; /* Show after typing */
  transition: opacity 1s ease-in;
  margin-top: 1em;
}
#button-container a,
#button-container button {
  padding: 0.75rem 1.5rem;
  font-size: 1.1rem; font-weight: bold;
  border: none; border-radius: 10px;
  cursor: pointer; text-decoration: none;
  box-shadow: 0 0 12px rgba(255,255,255,0.1);
}
#proceed-btn {
  background: linear-gradient(135deg, #00ff99, #33ffcc);
  color: #000;
}
#proceed-btn:hover {
  transform: scale(1.05);
}
#no-btn {
  background: linear-gradient(135deg, #ff4d4d, #ff9999);
  color: #fff;
  z-index: 999;
}
#no-btn.initial { position: static !important; transform: none !important; }
#no-btn.shake { animation: shake 0.4s ease; }
#no-btn:hover { transform: scale(1.05) rotate(-2deg); }

/* ——— Typing Animation ——— */
#typing-container {
  display: flex; align-items: center;
  font-family: 'Courier New', monospace;
  font-size: 2rem; color: #fff;
  white-space: nowrap; overflow: hidden;
  border-right: .1em solid rgba(255,255,255,0.75);
  z-index: 200;
}
.heart {
  margin-left: .25em;
  animation: pulse 1s ease-in-out infinite alternate;
}
#typing-subtext {
  font-family: 'Courier New', monospace;
  font-size: 1.5rem; color: #e6ccff;
  margin-top: .5em; white-space: pre-wrap;
  opacity: 0; overflow: hidden;
  border-right: .1em solid rgba(230,204,255,0.75);
  display: inline-block;
}

/* ——— Music iframe (hidden) ——— */
#music-frame {
  position: fixed; bottom: 10px; right: 10px;
  width: 0; height: 0; border: none; z-index: 9999;
}

/* ——— Animations ——— */
@keyframes bgPulse {
  0%,100% { background-position: 0% 50%; }
  50%     { background-position:100% 50%; }
}
@keyframes shake {
  0%,100% { transform: translateX(0); }
  25%     { transform: translateX(-5px); }
  50%     { transform: translateX(5px); }
}
@keyframes floatImage {
  0%   { transform: translate(0,0) scale(var(--scale)); opacity:var(--startOpacity); filter:blur(var(--blur)); }
  20%  { opacity:1; filter:blur(0); }
  100% { transform: translate(var(--dx),var(--dy)) scale(var(--scale)); opacity:0; filter:blur(var(--blur)); }
}
@keyframes floatAround {
  0%   { transform: translate(0,0) scale(1); opacity:0; filter:blur(2px); }
  20%  { opacity:1; filter:blur(0); }
  80%  { opacity:0.6; }
  100% { transform: translate(var(--dx),var(--dy)) scale(var(--scale)); opacity:0; filter:blur(var(--blur)); }
}
@keyframes floatUp {
  0%   { transform: translateY(100vh) scale(0.9) rotate(0deg); opacity:1; }
  100% { transform: translateY(-20vh) scale(1.2) rotate(20deg); opacity:0; }
}
@keyframes pulse {
  from { transform: scale(1); }
  to   { transform: scale(1.3); }
}

/* ——— Responsive Tweaks ——— */
@media (max-width: 768px) {
  .floating-image { width:120px !important; height:120px !important; }
  #hidden-image    { width:100px; }
}
@media (max-width: 480px) {
  .floating-image { width:80px !important; height:80px !important; }
  #hidden-image    { width:80px; }
}
